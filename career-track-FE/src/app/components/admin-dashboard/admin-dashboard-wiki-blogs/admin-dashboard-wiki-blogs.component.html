
<div class="container">
  @if(isLoading){
    <app-loading-spinner></app-loading-spinner>
    } @else {
  <form class="row align-items-center">
    <div class="col-auto">
      <label for="table-filtering-search" class="col-form-label">Full text search:</label>
    </div>
    <div class="col-auto">
      <input
      id="table-filtering-search"
      class="form-control"
      type="text"
      [formControl]="filter"
      placeholder="Search Career Packages"

    />
    </div>
  </form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">Type</th>
        <th scope="col">Status</th>

      </tr>
    </thead>
    <tbody>
      @for (data of this.filteredArticles ; track data.title; let i = $index) {
        <tr>
          <th scope="row">{{ (articlePage - 1) * articlePageSize + (i + 1) }}</th>
          <td>
            <ngb-highlight [result]="data.title" [term]="filter.value" />
          </td>
          <td><ngb-highlight [result]="data.author" [term]="filter.value" /></td>
          <td><span
            class="badge text-white bg-{{
              statusIdentifier(data.type)
            }}"
          >
            {{ data.type }}
          </span></td>
          <td><span
            class="badge text-white bg-{{
              statusIdentifier(data.approvalStatus)
            }}"
          >
            {{ data.approvalStatus }}
          </span></td>

          <td>
            <button
                      type="button"
                      class="btn btn-primary btn-sm"
                      (click)="onView(data.id)"
                      style="background-color: rgb(122, 91, 235); border-color: rgb(122, 91, 235);">
                      View Package
                    </button> |
                      <button
                      type="button"
                      class="btn btn-danger btn-sm"
                      (click)="onDelete(data.id)"
                      style="background-color: #dc3545; border-color: #dc3545;">
                      Delete Article
                    </button>


          </td>
        </tr>
      } @empty {
        <tr>
          <td colspan="4" style="text-align: center">No Blogs Or Wikis found</td>
        </tr>
      }
    </tbody>
  </table>
  <div class="d-flex justify-content-between p-2">
    @if(this.articlePageSize!-1){
      <ngb-pagination
      [collectionSize]="articleCollectionSize"
      [(page)]="articlePage"
      [pageSize]="articlePageSize"
      (pageChange)="onPageChange($event)"
    ></ngb-pagination>
    }

      <select class="form-select" style="width: auto" [(ngModel)]="articlePageSize" (ngModelChange)="onPageSizeChange()">
        <option [ngValue]="2">2 items per page</option>
        <option [ngValue]="4">4 items per page</option>
        <option [ngValue]="6">6 items per page</option>
        <option [ngValue]="1">All items</option>

      </select>
    </div>

  }
    </div>
